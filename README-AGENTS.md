# LiveKit Voice AI Agents - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ

## üéâ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LiveKit Agents Framework —Å –≥–æ–ª–æ—Å–æ–≤—ã–º AI –∞–≥–µ–Ω—Ç–æ–º –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π.

---

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Python Agent —Å LiveKit Agents Framework
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LiveKit Agents SDK
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–∞–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### 2. Speech-to-Text (STT)
- ‚úÖ OpenAI Whisper API
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏

### 3. Text-to-Speech (TTS)
- ‚úÖ Silero TTS (–≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å)
- ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: OpenAI TTS
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≥–æ–ª–æ—Å–∞

### 4. Large Language Model (LLM)
- ‚úÖ GigaChat API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

### 5. Dashboard & Management
- ‚úÖ Sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ —Ñ–∏—á–∞–º–∏
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞–º–∏ (`/dashboard/trainer/agents`)
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞–º–∏ (—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø)

### 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ Service token –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∞–≥–µ–Ω—Ç–æ–≤ –∫ API
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints
- ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–∑–∏—Ç–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ë–î
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å LiveKit –∫–æ–º–Ω–∞—Ç–∞–º–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd agents
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã:
- **Windows**: `agents\install.bat`
- **Linux/Mac**: `agents\install.sh`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ `.env`:
```bash
cp agents/.env.example agents/.env
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `AGENT_SERVICE_TOKEN` —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤:
- `agents/.env`
- `.env.local` (Next.js)

### 3. –ó–∞–ø—É—Å–∫

–ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–∑–∏—Ç–∞ —á–µ—Ä–µ–∑ Next.js API.

–î–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
cd agents
source venv/bin/activate
python doctor_agent.py dev --room <room-name>
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
agents/
‚îú‚îÄ‚îÄ doctor_agent.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç (STT ‚Üí LLM ‚Üí TTS)
‚îú‚îÄ‚îÄ run_worker.py            # Worker –¥–ª—è production
‚îú‚îÄ‚îÄ start_agent.py           # Helper –¥–ª—è –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ install.sh / install.bat # –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

app/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ livekit/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agents/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ start/route.ts  # –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ visits/
‚îÇ       ‚îî‚îÄ‚îÄ [id]/
‚îÇ           ‚îú‚îÄ‚îÄ route.ts        # GET visit (–¥–ª—è –∞–≥–µ–Ω—Ç–∞)
‚îÇ           ‚îî‚îÄ‚îÄ agent/route.ts  # Agent-only endpoint
‚îî‚îÄ‚îÄ (dashboard)/
    ‚îî‚îÄ‚îÄ trainer/
        ‚îî‚îÄ‚îÄ agents/page.tsx     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞–º–∏

components/
‚îî‚îÄ‚îÄ dashboard/
    ‚îú‚îÄ‚îÄ app-sidebar.tsx         # Sidebar —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
    ‚îú‚îÄ‚îÄ main-chat-zone.tsx      # –ß–∞—Ç + LiveKit –∑–æ–Ω–∞
    ‚îî‚îÄ‚îÄ agents-status.tsx       # –°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–æ–≤
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (agents/.env)

```env
# LiveKit
LIVEKIT_URL=wss://your-project.livekit.cloud
LIVEKIT_API_KEY=your-api-key
LIVEKIT_API_SECRET=your-api-secret

# OpenAI (STT)
OPENAI_API_KEY=your-openai-key

# GigaChat (LLM)
GIGACHAT_AUTHORIZATION_KEY=your-key
GIGACHAT_API_URL=https://gigachat.devices.sberbank.ru/api/v1
GIGACHAT_OAUTH_URL=https://ngw.devices.sberbank.ru:9443/api/v2/oauth

# Next.js API
NEXTJS_API_URL=http://localhost:3000
AGENT_SERVICE_TOKEN=your-secure-token

# TTS/STT –≤—ã–±–æ—Ä
USE_SILERO_TTS=true
USE_OPENAI_STT=true
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [agents-quickstart.md](./docs/agents-quickstart.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [agents-installation.md](./docs/agents-installation.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- [livekit-voice-agent.md](./docs/livekit-voice-agent.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞

---

## üîÑ Workflow

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –≤–∏–∑–∏—Ç** ‚Üí `POST /api/visits`
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≥–µ–Ω—Ç** ‚Üí `POST /api/livekit/agents/start`
3. **–ê–≥–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ LiveKit –∫–æ–º–Ω–∞—Ç–µ**
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç** ‚Üí STT —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å
5. **GigaChat –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç** ‚Üí LLM –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
6. **TTS –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç** ‚Üí Silero TTS —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç —Ä–µ—á—å
7. **–ê–≥–µ–Ω—Ç –ø—É–±–ª–∏–∫—É–µ—Ç –∞—É–¥–∏–æ –≤ –∫–æ–º–Ω–∞—Ç—É** ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ª—ã—à–∏—Ç –æ—Ç–≤–µ—Ç

---

## üéØ Next Steps

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
2. ‚úÖ –ê–≥–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
4. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å production deployment

---

## üêõ Troubleshooting

**–ê–≥–µ–Ω—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é (—Ç—Ä–µ–±—É–µ—Ç—Å—è 3.8+)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`

**–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ LiveKit?**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `LIVEKIT_URL`, `LIVEKIT_API_KEY`, `LIVEKIT_API_SECRET`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ LiveKit —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω

**–û—à–∏–±–∫–∞ GigaChat API?**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GIGACHAT_AUTHORIZATION_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`lib/certs/`)

**–ê–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API?**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `AGENT_SERVICE_TOKEN` —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ –æ–±–æ–∏—Ö `.env` —Ñ–∞–π–ª–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ

---

## üìö –†–µ—Å—É—Ä—Å—ã

- [LiveKit Agents Documentation](https://docs.livekit.io/agents/)
- [Voice AI Quickstart](https://docs.livekit.io/agents/start/voice-ai.md)
- [Python SDK Reference](https://docs.livekit.io/agents/reference/)

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**

