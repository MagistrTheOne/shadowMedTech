# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –∞–≥–µ–Ω—Ç–∞ –≤ LiveKit Cloud

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ LiveKit CLI —á–µ—Ä–µ–∑ `winget`, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell**, —á—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥–∞ `lk` —Å—Ç–∞–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.

## –®–∞–≥–∏ –¥–µ–ø–ª–æ—è

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

–ó–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π PowerShell/—Ç–µ—Ä–º–∏–Ω–∞–ª.

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É CLI

```powershell
lk --version
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2.12.3`).

### 3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```powershell
cd agents
lk cloud auth
```

–ö–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç:
- **API Key**: `APIgEdUcFbCgkii`
- **API Secret**: –í–≤–µ–¥–∏—Ç–µ –≤–∞—à API Secret –∏–∑ LiveKit Cloud Dashboard

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é:
```powershell
lk cloud auth --api-key APIgEdUcFbCgkii
# –í–≤–µ–¥–∏—Ç–µ API Secret –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞

```powershell
lk agent create
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–¥—Å–∫–∞–∑–∫–∞–º:
- **Agent name**: `doctor-agent` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
- **Runtime**: Python 3.11
- **Entry point**: `doctor_agent.py`

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ LiveKit Cloud Dashboard:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://cloud.livekit.io
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "Agents"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Environment Variables"
6. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```
LIVEKIT_URL=wss://shadowmedtech-k63v8iwv.livekit.cloud
LIVEKIT_API_KEY=APIgEdUcFbCgkii
LIVEKIT_API_SECRET=<–≤–∞—à-—Å–µ–∫—Ä–µ—Ç>
GIGACHAT_CLIENT_ID=0199824b-4c1e-7ef1-b423-bb3156ddecee
GIGACHAT_CLIENT_SECRET=46991ceb-e831-4b1a-b63a-25d18a37d5c7
GIGACHAT_AUTHORIZATION_KEY=MDE5OTgyNGItNGMxZS03ZWYxLWI0MjMtYmIzMTU2ZGRlY2VlOjQ2OTkxY2ViLWU4MzEtNGIxYS1iNjNhLTI1ZDE4YTM3ZDVjNw==
GIGACHAT_API_URL=https://gigachat.devices.sberbank.ru/api/v1
GIGACHAT_OAUTH_URL=https://ngw.devices.sberbank.ru:9443/api/v2/oauth
GIGACHAT_SCOPE=GIGACHAT_API_PERS
OPENAI_API_KEY=<–≤–∞—à-openai-–∫–ª—é—á>
NEXTJS_API_URL=https://your-app.vercel.app
AGENT_SERVICE_TOKEN=<–≤–∞—à-—Å–ª—É–∂–µ–±–Ω—ã–π-—Ç–æ–∫–µ–Ω>
USE_SILERO_TTS=true
USE_OPENAI_STT=true
```

### 6. –î–µ–ø–ª–æ–π –∞–≥–µ–Ω—Ç–∞

```powershell
lk agent deploy
```

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è, –æ–±–Ω–æ–≤–∏—Ç–µ `.env.local`:

```env
LIVEKIT_CLOUD=true  # –ò–∑–º–µ–Ω–∏—Ç–µ —Å false –Ω–∞ true
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```powershell
powershell -ExecutionPolicy Bypass -File .\scripts\deploy-agent.ps1
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞ –≤ LiveKit Cloud Dashboard
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∞–≥–µ–Ω—Ç–∞
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑–∏—Ç–∞ —á–µ—Ä–µ–∑ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ:

```powershell
cd agents
lk agent deploy
```

–ò–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

```powershell
lk agent deploy --force
```

## Troubleshooting

### –ö–æ–º–∞–Ω–¥–∞ `lk` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell/—Ç–µ—Ä–º–∏–Ω–∞–ª
- –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –≤—Ä—É—á–Ω—É—é: `$env:Path += ";$env:LOCALAPPDATA\Microsoft\WinGet\Links"`

### –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API Key –∏ API Secret
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ LiveKit Cloud

### –ê–≥–µ–Ω—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ LiveKit Cloud Dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`requirements.txt`)

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`agents/`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `doctor_agent.py` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git)

